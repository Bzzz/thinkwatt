Thinkwatt is a bash script for use with thinkpad laptops. However, as of recently, it works with all kinds of laptops as long as they've got a battery attached.

Thinkwatt can
 * record your power consumption,
 * calculate an average of that consumption
 * and visualize that data in a 2D gnuplot graphic.
 
usage:	thinkwatt [ -r <seconds> | -p | -a ] file

options:	
	-r, --record	the all-in-one argument:
			will record consumption to a specified (or temporary) file and then create a gnuplot graph from it
	-p, --plot	create a plot image from a specified data file
	-a, --average	calculate the average power consumption from a specified data file
	-h, --help	show this help text
	
examples:
	thinkwatt -r 300 (will record for 5 minutes to a tmp file)
	thinkwatt -r 60 /foo/bar/consumption.dat (will record to the specified file)
	thinkwatt -p /foo/bar/consumption.dat (will plot from the specified file)

Thinkwatt works with all laptops, not just Thinkpads.
If you're running thinkwatt on a Thinkpad it is still recommended to use tp_smapi as a query to the control files of tp_smapi will produce more accurate results than the to the generic acpi interface. 
